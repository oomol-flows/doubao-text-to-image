# 豆包文生图生成器

一个强大的 OOMOL 工作流项目,使用豆包文生图 API 从文本描述生成高质量图像。

## 概述

本项目提供了一种简单高效的方式,将您的创意文本提示转换为精美的图像。无论您是寻找灵感的设计师、需要视觉素材的内容创作者,还是任何想要将想法可视化的人,这个工具都能让 AI 驱动的图像生成变得触手可及、易于使用。

## 功能特性

- **文生图功能**:将任何文本描述转换为对应的图像
- **自动图像存储**:生成的图像自动保存到本地,文件名带有时间戳
- **实时预览**:在 OOMOL 界面中即时查看生成的图像
- **简单集成**:轻松集成到您的 OOMOL 工作流中

## 功能模块

### 文生图区块

本项目的核心功能由**文生图(Text to Image)**区块提供,该区块具有以下特点:

- **接收文本提示**:接受您想要创建图像的自然语言描述
- **生成图像**:使用先进的豆包 AI 模型根据您的描述创建图像
- **返回多个输出**:提供在线图像 URL 和本地文件路径,使用更灵活
- **自动处理存储**:将生成的图像保存到 `/oomol-driver/oomol-storage/text-to-image/`,文件名唯一

#### 输入参数

- **prompt**(字符串):您想要生成的图像的文本描述。越详细、越具描述性的提示通常会获得更好的结果。
  - 示例:"一幅宁静的山景,夕阳西下,金色的光芒洒满大地"
  - 示例:"未来主义城市,飞行汽车和霓虹灯光"

#### 输出参数

- **image_url**(字符串):生成图像的在线 URL 地址
- **image_path**(字符串):图像保存在系统中的本地文件路径

## 使用方法

### 基本工作流

1. **添加文生图区块**到您的 OOMOL 工作流中
2. **输入提示词**,描述您想要生成的图像
3. **运行工作流**,等待图像生成
4. **在预览面板中查看结果**
5. **访问图像**,使用返回的 URL 或本地文件路径

### 使用场景示例

- **创意设计**:生成概念艺术和设计灵感
- **内容创作**:为博客文章、社交媒体或演示文稿创建独特的图像
- **原型设计**:快速将想法可视化,无需手动设计
- **教育**:在教育材料中说明概念和想法
- **营销**:生成促销视觉素材和营销资产

## 安装

本项目使用 Python 和 Node.js 依赖。设置方法:

```bash
# 安装所有依赖
npm install
poetry install --no-root
```

在 OOMOL 中加载项目时会自动处理安装。

## 文件结构

```
doubao-text-to-image/
├── tasks/
│   └── text-to-image/          # 主要的文生图任务
│       ├── __init__.py          # 任务实现
│       └── task.oo.yaml         # 任务配置
├── flows/
│   └── test-text-to-image/     # 测试工作流
│       └── flow.oo.yaml         # 工作流配置
├── package.oo.yaml              # OOMOL 包配置
├── pyproject.toml               # Python 依赖
├── package.json                 # Node.js 依赖
├── icon.png                     # 项目图标
└── README.md                    # 英文说明文档
```

## 技术细节

### 身份验证

本项目使用 OOMOL 内置的 token 身份验证系统。OOMOL token 在运行时自动获取,无需手动配置 API 密钥。

### API 端点

项目连接到豆包文生图 API:
```
https://fusion-api.oomol.com/v1/doubao-text-to-image-seedream/action/generate
```

### 存储位置

生成的图像存储在 OOMOL 运行时存储目录中:
```
/oomol-driver/oomol-storage/text-to-image/
```

文件使用时间戳命名:`generated_YYYYMMDD_HHMMSS.jpeg`

### 依赖项

**Python**:
- `requests`:用于 API 通信的 HTTP 客户端
- `oocana`:OOMOL 运行时上下文(预安装)

**Node.js**:标准 OOMOL 运行时依赖

### 错误处理

该区块包含完善的错误处理机制,涵盖:
- 网络连接问题
- API 请求失败
- 无效的响应格式
- 文件系统操作

所有错误都会报告清晰、描述性的消息,帮助排查问题。

## 系统要求

- OOMOL 平台(建议使用最新版本)
- 互联网连接以访问 API
- OOMOL 存储目录的写入权限

## 支持

如有问题、疑问或功能请求,请参考 OOMOL 平台文档或社区资源。

## 许可证

本项目遵循 OOMOL 平台许可条款。

---

**版本**: 0.0.1

**图标**: 🖼️ 图像生成图标

**最后更新**: 2025
